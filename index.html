<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
	<script>
		function Stack() {
			this.dataStore = [];
			this.top = 0;
			this.top = 0;
			this.push = push;
			this.pop = pop;
			this.peek = peek;
			this.clear = clear;
			this.length = length;
		}

		function push(element) {
			this.dataStore[this.top++] = element;
		}

		function peek() {
			return this.dataStore[this.top - 1];
		}

		function pop() {
			return this.dataStore[--this.top];
		}

		function clear() {
			this.top = 0;
		}

		function length() {
			return this.top;
		}

		//2+7*(15-8*1)*5 [2,'+',7,'*','(',15,'-',8,'*',1,')','*',5]
		function parseExpression(arr){
			let numStack = new Stack();
			let operStack = new Stack();
			let quoteStack = new Stack();
			let end = arr.length;
			for(let i=0;i<end;i++){
				let item=arr[i];
				if(Number.isInteger(item)){
					numStack.push(item);
				}else{
					switch(item){
						case '+':

						case '-':
							if(!operStack.length()){
								operStack.push(item);
							}else{
								let peek = operStack.peek();
								if(peek!=='*'||peek!=='/'){
									let item1 = numStack.pop();
									let item2 = numStack.pop();
									numStack.push(item1);
									numStack.push(item2);
									let oper = operStack.pop();
									operStack.push(item);
									operStack.push(oper);
								}else{
									operStack.push(item);
								}
							}
							break;
						case '/':
						case '*':
						    if(!operStack.length()){
								operStack.push(item);
							}else{
								let peek = operStack.peek();
								if(peek!=='-'||peek!=='+'){
									let item1 = numStack.pop();
									let item2 = numStack.pop();
									numStack.push(item1);
									numStack.push(item2);
									let oper = operStack.pop();
									operStack.push(item);
									operStack.push(oper);
								}else{
									operStack.push(item);
								}
							}
							break;
						case '(':
						    quoteStack.push('(');
						    for(num=end)
						case ')':
					}
				}
			}
		}

	</script>
</body>
</html>